@using CarShop.Core.Constants
@using CarShop.Core.Models
@model IEnumerable<CarCardViewModel>
@{
	ViewData["Title"] = "Cars";
}

<div class="text-center">
	<h1 class="display-4">All Cars</h1>
</div>
@foreach (var car in Model)
{
	<div class="card" style="width: 18rem;">
		<img class="card-img-top" src="@car.ImageUrl" style="height: 150px; object-fit: cover;" alt="Card image cap">
		<div class="card-body">
			<h5>@car.Model</h5>
			<p class="card-text">@car.Brand</p>
			<h6 class="card-text">@car.Price</h6>
			<a asp-controller="Cars" asp-action="Details" asp-route-id="@car.Id" class="btn btn-primary">Details</a>

			@if (!User.IsInRole(UserConstants.Roles.Employee) && !User.IsInRole(UserConstants.Roles.Administrator))
			{
				<a asp-controller="Orders" asp-action="New" asp-route-id="@car.Id" class="btn btn-primary">Customize</a>
			}

			@if (User.IsInRole(UserConstants.Roles.Employee) || User.IsInRole(UserConstants.Roles.Administrator))
			{
				<a asp-area="Emp" asp-controller="Cars" asp-action="Edit" asp-route-id="@car.Id" class="btn btn-primary">Edit</a>
			}
		</div>
	</div>
}
