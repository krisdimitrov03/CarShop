@using CarShop.Core.Constants
@using CarShop.Core.Models
@model CarDetailsViewModel
@{
	ViewData["Title"] = "Edit Car";
}

<link rel="stylesheet" href="~/css/style/details-style.css">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
	  integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

<div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
	<div class="carousel-indicators">
		@for (var i = 1; i <= Model.OtherImagesUrls.Count(); i++)
		{
			<button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="@i-1"
				class="@(i==1 ? "active" : "")"
				aria-current="true" aria-label="Slide @i"></button>
		}
	</div>
	<div class="carousel-inner">
		@foreach (var url in Model.OtherImagesUrls)
		{
			<div class="carousel-item active">
				<img src="@url" class="d-block w-100" alt="...">
			</div>
		}
	</div>
	<button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators"
			data-bs-slide="prev">
		<span class="carousel-control-prev-icon" aria-hidden="true"></span>
		<span class="visually-hidden">Previous</span>
	</button>
	<button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators"
			data-bs-slide="next">
		<span class="carousel-control-next-icon" aria-hidden="true"></span>
		<span class="visually-hidden">Next</span>
	</button>
</div>

<div class="main">
	<h1>@Model.Brand @Model.Model @Model.ReleaseYear</h1>
	<div class="left">
		<img src="@Model.ImageUrl" alt="car-image">
		<div>
			<span>€ @Model.Price</span>
			<a asp-area="" asp-controller="Orders" asp-action="New" asp-route-id="@Model.Id">Customize</a>
		</div>
	</div>
	<div class="spec-section">
		<h2>Specifications</h2>
		<hr>
		<div class="specs">
			<p>
				<img src="~/img/img/icons/engine.png" height="16" width="16" alt="">
				@Model.Engine
			</p>
			<p>
				<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
					 class="bi bi-speedometer" viewBox="0 0 16 16">
					<path d="M8 2a.5.5 0 0 1 .5.5V4a.5.5 0 0 1-1 0V2.5A.5.5 0 0 1 8 2zM3.732 3.732a.5.5 0 0 1 .707 0l.915.914a.5.5 0 1 1-.708.708l-.914-.915a.5.5 0 0 1 0-.707zM2 8a.5.5 0 0 1 .5-.5h1.586a.5.5 0 0 1 0 1H2.5A.5.5 0 0 1 2 8zm9.5 0a.5.5 0 0 1 .5-.5h1.5a.5.5 0 0 1 0 1H12a.5.5 0 0 1-.5-.5zm.754-4.246a.389.389 0 0 0-.527-.02L7.547 7.31A.91.91 0 1 0 8.85 8.569l3.434-4.297a.389.389 0 0 0-.029-.518z" />
					<path fill-rule="evenodd"
						  d="M6.664 15.889A8 8 0 1 1 9.336.11a8 8 0 0 1-2.672 15.78zm-4.665-4.283A11.945 11.945 0 0 1 8 10c2.186 0 4.236.585 6.001 1.606a7 7 0 1 0-12.002 0z" />
				</svg>
				@Model.HorsePower hp
			</p>
			<p>
				<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
					 class="bi bi-arrows-angle-contract" viewBox="0 0 16 16">
					<path fill-rule="evenodd"
						  d="M.172 15.828a.5.5 0 0 0 .707 0l4.096-4.096V14.5a.5.5 0 1 0 1 0v-3.975a.5.5 0 0 0-.5-.5H1.5a.5.5 0 0 0 0 1h2.768L.172 15.121a.5.5 0 0 0 0 .707zM15.828.172a.5.5 0 0 0-.707 0l-4.096 4.096V1.5a.5.5 0 1 0-1 0v3.975a.5.5 0 0 0 .5.5H14.5a.5.5 0 0 0 0-1h-2.768L15.828.879a.5.5 0 0 0 0-.707z" />
				</svg>
				@Model.Height x @Model.Width x @Model.Length (m)
			</p>
			<p>
				<img src="~/img/img/icons/weight.png" height="16" width="16" alt="">
				@Model.Weight kg
			</p>
			<p>
				<img src="~/img/img/icons/coupe-type.png" height="16" width="16" alt="">
				@Model.CoupeType
			</p>
			<p>
				<img src="~/img/img/icons/door-config.png" height="16" width="16" alt="">
				@Model.DoorConfig doors
			</p>
			<p>
				<img src="~/img/img/icons/crash-protection-level.png" height="16" width="16" alt="">
				7.9
			</p>
			<p>
				<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
					 class="bi bi-droplet-fill" viewBox="0 0 16 16">
					<path d="M8 16a6 6 0 0 0 6-6c0-1.655-1.122-2.904-2.432-4.362C10.254 4.176 8.75 2.503 8 0c0 0-6 5.686-6 10a6 6 0 0 0 6 6ZM6.646 4.646l.708.708c-.29.29-1.128 1.311-1.907 2.87l-.894-.448c.82-1.641 1.717-2.753 2.093-3.13Z" />
				</svg>
				@(Model.FuelConsumption)L/100 km
			</p>
		</div>
	</div>
</div>

@section Scripts {
	<partial name="_BootstrapJsPartial"/>
}

@*<style>
	p {
	font-size: 120%;
	}
	</style>

	<div class="text-center">
	<h1 class="display-4">@Model.Brand @Model.Model</h1>
	</div>

	<div class="text-center">
	<img src="@Model.ImageUrl" height="300px" />
	</div>
	<div class="text-center">
	@foreach (var imageUrl in Model.OtherImagesUrls)
	{
	<img src="@imageUrl" height="150px" />
	}

	<p><strong>Height:</strong> @Model.Height <strong>Width:</strong> @Model.Width</p>
	<p><strong>Length:</strong> @Model.Length <strong>Weight:</strong> @Model.Weight</p>
	<p><strong>Release Year:</strong> @Model.ReleaseYear</p>
	<p><strong>Price:</strong> @(Model.Price)€</p>
	@if (User.IsInRole(UserConstants.Roles.Administrator) || User.IsInRole(UserConstants.Roles.Employee))
	{
	<a asp-area="Emp" asp-controller="Cars" asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-primary">Edit</a>
	<a asp-area="Emp" asp-controller="Cars" asp-action="Delete" asp-route-id="@Model.Id" class="btn btn-danger">Delete</a>
	}
	else
	{
	<a asp-controller="Orders" asp-action="New" asp-route-id="@Model.Id" class="btn btn-primary">Customize</a>
	}
	</div>*@