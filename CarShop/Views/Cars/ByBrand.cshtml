@using CarShop.Core.Constants
@using CarShop.Core.Models
@model CarsByBrandViewModel
@{
	ViewData["Title"] = $"{Model.BrandName} Cars";
	var coupeTypes = (List<SelectListItem>)ViewBag.CoupeTypes;
	var doorConfigs = (List<SelectListItem>)ViewBag.DoorConfigs;
	var fuelTypes = (List<SelectListItem>)ViewBag.FuelTypes;
}

<link rel="stylesheet" href="~/css/style/all-cars.css">

<div class="header">
	<h1>Vehicles of @Model.BrandName</h1>
</div>

<aside id="filter">
	<h3>
		<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-funnel" viewBox="0 0 16 16">
			<path d="M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5v-2zm1 .5v1.308l4.372 4.858A.5.5 0 0 1 7 8.5v5.306l2-.666V8.5a.5.5 0 0 1 .128-.334L13.5 3.308V2h-11z" />
		</svg>
		Filter
	</h3>

	<div id="filters-area">
		<div class="sth-type">
			<h4 class="group-title">
				<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
					 class="bi bi-caret-right-fill" viewBox="0 0 16 16">
					<path d="m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z" />
				</svg>
				Fuel Type
			</h4>
			<div class="group-elements">
				@foreach (var type in fuelTypes)
				{
					<div class="group-el">
						<span class="line"></span>
						<a href="/Cars/ByBrand/@(Model.BrandId)?fuelType=@type.Value">@type.Text</a>
					</div>
				}
			</div>
		</div>

		<div class="sth-type">
			<h4 class="group-title">
				<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
					 class="bi bi-caret-right-fill" viewBox="0 0 16 16">
					<path d="m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z" />
				</svg>
				Coupe Type
			</h4>
			<div class="group-elements">
				@foreach (var type in coupeTypes)
				{
					<div class="group-el">
						<span class="line"></span>
						<a href="/Cars/ByBrand/@(Model.BrandId)?coupeType=@type.Value">@type.Text</a>
					</div>
				}
			</div>
		</div>

		<div class="sth-type">
			<h4 class="group-title">
				<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
					 class="bi bi-caret-right-fill" viewBox="0 0 16 16">
					<path d="m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z" />
				</svg>
				Door Config
			</h4>
			<div class="group-elements">

				@foreach (var type in doorConfigs)
				{
					<div class="group-el">
						<span class="line"></span>
						<a href="/Cars/ByBrand/@(Model.BrandId)?doorConfig=@type.Value">@type.Text</a>
					</div>
				}
			</div>
		</div>
	</div>
</aside>

<div id="sort">
	<span class="sort-criteria">
		<span>Price</span>
		<a href="/Cars/ByBrand/@(Model.BrandId)?sortBy=Price">
			<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-sort-alpha-down"
				 viewBox="0 0 16 16">
				<path fill-rule="evenodd"
					  d="M10.082 5.629 9.664 7H8.598l1.789-5.332h1.234L13.402 7h-1.12l-.419-1.371h-1.781zm1.57-.785L11 2.687h-.047l-.652 2.157h1.351z" />
				<path d="M12.96 14H9.028v-.691l2.579-3.72v-.054H9.098v-.867h3.785v.691l-2.567 3.72v.054h2.645V14zM4.5 2.5a.5.5 0 0 0-1 0v9.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L4.5 12.293V2.5z" />
			</svg>
		</a>
		<a href="/Cars/ByBrand/@(Model.BrandId)?sortBy=PriceDesc">
			<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-sort-alpha-down-alt"
				 viewBox="0 0 16 16">
				<path d="M12.96 7H9.028v-.691l2.579-3.72v-.054H9.098v-.867h3.785v.691l-2.567 3.72v.054h2.645V7z" />
				<path fill-rule="evenodd"
					  d="M10.082 12.629 9.664 14H8.598l1.789-5.332h1.234L13.402 14h-1.12l-.419-1.371h-1.781zm1.57-.785L11 9.688h-.047l-.652 2.156h1.351z" />
				<path d="M4.5 2.5a.5.5 0 0 0-1 0v9.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L4.5 12.293V2.5z" />
			</svg>
		</a>
	</span>

	<span class="sort-criteria">
		<span>Horse Power</span>
		<a href="/Cars/ByBrand/@(Model.BrandId)?sortBy=HorsePower">
			<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-sort-alpha-down"
				 viewBox="0 0 16 16">
				<path fill-rule="evenodd"
					  d="M10.082 5.629 9.664 7H8.598l1.789-5.332h1.234L13.402 7h-1.12l-.419-1.371h-1.781zm1.57-.785L11 2.687h-.047l-.652 2.157h1.351z" />
				<path d="M12.96 14H9.028v-.691l2.579-3.72v-.054H9.098v-.867h3.785v.691l-2.567 3.72v.054h2.645V14zM4.5 2.5a.5.5 0 0 0-1 0v9.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L4.5 12.293V2.5z" />
			</svg>
		</a>
		<a href="/Cars/ByBrand/@(Model.BrandId)?sortBy=HorsePowerDesc">
			<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-sort-alpha-down-alt"
				 viewBox="0 0 16 16">
				<path d="M12.96 7H9.028v-.691l2.579-3.72v-.054H9.098v-.867h3.785v.691l-2.567 3.72v.054h2.645V7z" />
				<path fill-rule="evenodd"
					  d="M10.082 12.629 9.664 14H8.598l1.789-5.332h1.234L13.402 14h-1.12l-.419-1.371h-1.781zm1.57-.785L11 9.688h-.047l-.652 2.156h1.351z" />
				<path d="M4.5 2.5a.5.5 0 0 0-1 0v9.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L4.5 12.293V2.5z" />
			</svg>
		</a>
	</span>

	<span class="sort-criteria">
		<span>Release Year</span>
		<a href="/Cars/ByBrand/@(Model.BrandId)?sortBy=ReleaseYear">
			<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-sort-alpha-down"
				 viewBox="0 0 16 16">
				<path fill-rule="evenodd"
					  d="M10.082 5.629 9.664 7H8.598l1.789-5.332h1.234L13.402 7h-1.12l-.419-1.371h-1.781zm1.57-.785L11 2.687h-.047l-.652 2.157h1.351z" />
				<path d="M12.96 14H9.028v-.691l2.579-3.72v-.054H9.098v-.867h3.785v.691l-2.567 3.72v.054h2.645V14zM4.5 2.5a.5.5 0 0 0-1 0v9.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L4.5 12.293V2.5z" />
			</svg>
		</a>
		<a href="/Cars/ByBrand/@(Model.BrandId)?sortBy=ReleaseYearDesc">
			<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-sort-alpha-down-alt"
				 viewBox="0 0 16 16">
				<path d="M12.96 7H9.028v-.691l2.579-3.72v-.054H9.098v-.867h3.785v.691l-2.567 3.72v.054h2.645V7z" />
				<path fill-rule="evenodd"
					  d="M10.082 12.629 9.664 14H8.598l1.789-5.332h1.234L13.402 14h-1.12l-.419-1.371h-1.781zm1.57-.785L11 9.688h-.047l-.652 2.156h1.351z" />
				<path d="M4.5 2.5a.5.5 0 0 0-1 0v9.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L4.5 12.293V2.5z" />
			</svg>
		</a>
	</span>
</div>

<div class="cars">
	@foreach (var car in Model.Cars)
	{
		<div class="car" style="
            background: linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2)),
            url('@car.ImageUrl');
            background-position: center;
            background-size: cover;">
			<h4>@car.Model</h4>
			<h5>@car.BrandName</h5>
			<div class="actions">
				<a asp-area="" asp-controller="Cars" asp-action="Details" asp-route-id="@car.Id" class="details">Details</a>
				<a asp-area="" asp-controller="Orders" asp-action="New" asp-route-id="@car.Id" class="customize">
					<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
					 class="bi bi-brush" viewBox="0 0 16 16">
						<path d="M15.825.12a.5.5 0 0 1 .132.584c-1.53 3.43-4.743 8.17-7.095 10.64a6.067 6.067 0 0 1-2.373 1.534c-.018.227-.06.538-.16.868-.201.659-.667 1.479-1.708 1.74a8.118 8.118 0 0 1-3.078.132 3.659 3.659 0 0 1-.562-.135 1.382 1.382 0 0 1-.466-.247.714.714 0 0 1-.204-.288.622.622 0 0 1 .004-.443c.095-.245.316-.38.461-.452.394-.197.625-.453.867-.826.095-.144.184-.297.287-.472l.117-.198c.151-.255.326-.54.546-.848.528-.739 1.201-.925 1.746-.896.126.007.243.025.348.048.062-.172.142-.38.238-.608.261-.619.658-1.419 1.187-2.069 2.176-2.67 6.18-6.206 9.117-8.104a.5.5 0 0 1 .596.04zM4.705 11.912a1.23 1.23 0 0 0-.419-.1c-.246-.013-.573.05-.879.479-.197.275-.355.532-.5.777l-.105.177c-.106.181-.213.362-.32.528a3.39 3.39 0 0 1-.76.861c.69.112 1.736.111 2.657-.12.559-.139.843-.569.993-1.06a3.122 3.122 0 0 0 .126-.75l-.793-.792zm1.44.026c.12-.04.277-.1.458-.183a5.068 5.068 0 0 0 1.535-1.1c1.9-1.996 4.412-5.57 6.052-8.631-2.59 1.927-5.566 4.66-7.302 6.792-.442.543-.795 1.243-1.042 1.826-.121.288-.214.54-.275.72v.001l.575.575zm-4.973 3.04.007-.005a.031.031 0 0 1-.007.004zm3.582-3.043.002.001h-.002z" />
					</svg>
					Customize
				</a>

				@if (User.IsInRole(UserConstants.Roles.Administrator) || User.IsInRole(UserConstants.Roles.Employee))
				{
					<a asp-area="Emp" asp-controller="Cars" asp-action="Edit" asp-route-id="@car.Id" class="edit">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
					 class="bi bi-pencil" viewBox="0 0 16 16">
							<path d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z" />
						</svg>
					</a>
				}
			</div>
		</div>
	}
</div>

<script src="~/js/allCars.js"></script>
